/*
 * wt-classes, utility classes used by Wt applications
 * Copyright (C) 2011 Boris Nagaev
 *
 * See the LICENSE file for terms of use.
 */

#ifndef WC_CONFIG_HPP_
#define WC_CONFIG_HPP_

#ifndef DOXYGEN_ONLY

#cmakedefine WC_HAVE_WLINK
#cmakedefine WC_HAVE_WIOSERVICE
#cmakedefine WC_HAVE_WHTTP_MESSAGE
#cmakedefine WC_HAVE_WRANDOM
#cmakedefine WC_HAVE_WRASTERIMAGE
#cmakedefine WC_HAVE_WSPINBOX
#cmakedefine WC_HAVE_WDOUBLESPINBOX
#cmakedefine WC_HAVE_WFORMWIDGET_VALUETEXT
#cmakedefine WC_HAVE_WAPPLICATION_APPROOT
#cmakedefine WC_HAVE_WIDGET_DO_JAVA_SCRIPT
#cmakedefine WC_HAVE_WCOMPOSITEWIDGET_IMPLEMENTATION
#cmakedefine WC_HAVE_SQLTIME
#cmakedefine WC_HAVE_SERVER_POST
#cmakedefine WC_HAVE_ENVIRONMENT_SERVER

#cmakedefine WC_HAVE_RECAPTCHA

#cmakedefine WC_HAVE_MD5
#cmakedefine WC_HAVE_WT_MD5
#cmakedefine OPENSSL_FOUND
#cmakedefine WC_USE_WT_MD5
#cmakedefine WC_USE_OPENSSL

#cmakedefine WC_HAVE_GRAVATAR

#ifndef WC_HAVE_WIDGET_DO_JAVA_SCRIPT
#include <Wt/WApplication>
#endif

#endif // not DOXYGEN_ONLY

namespace Wt {

namespace Wc {

/** Main version.
Should the library be completely rewritten, this number will grow.
*/
const int VERSION_MAJOR = @VERSION_MAJOR@;

/** Minor version.
When the library gets new features, this number grows.
Minor versions should be backward compatible,
but they can be slightly uncompatible, in particular in case of
non-standard usage.
*/
const int VERSION_MINOR = @VERSION_MINOR@;

/** Patch version.
This number is for bugfixes versions (including debian files update).

These versions must be completely backward compatible.
They should not get new features, unless they were introduced
to correct a bug.
*/
const int VERSION_PATCH = @VERSION_PATCH@;

/** String version of version */
const char* const VERSION_STR = "@VERSION@";

/** Float version of version.
This is suitable to compare versions as float variables.
*/
const float VERSION_FLOAT = VERSION_MAJOR + float(VERSION_MINOR) / 100 +
                            float(VERSION_PATCH) / 10000;

#ifndef DOXYGEN_ONLY

#ifndef WC_HAVE_WIDGET_DO_JAVA_SCRIPT
inline void doJavaScript(const std::string& js) {
    wApp->doJavaScript(js);
}
#endif

#endif // not DOXYGEN_ONLY

}

}

#endif

